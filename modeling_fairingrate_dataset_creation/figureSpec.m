%% Draw figures
function figureSpec(t,f,cdata1, fig, text, color)
%CREATEFIGURE(CDATA1)
%  CDATA1:  image cdata

%  Auto-generated by MATLAB on 22-Apr-2015 23:18:29
% Create figure

figure1 = figure(fig);
clf;

% Create axes
axes1 = axes('Parent',figure1,...
    'Position',[0.13 0.287878787878788 0.693788546255507 0.687121212121215],...
    'Layer','top');
%% Uncomment the following line to preserve the X-limits of the axes
xlim(axes1,[t(1) t(end)]);
%% Uncomment the following line to preserve the Y-limits of the axes
ylim(axes1,[f(1) f(end)]);

%box(axes1,'on');
hold(axes1,'all');
set(axes1,'YTick',floor(linspace(f(1),f(end),5)));
ticks = floor(linspace(1,length(f),5));
set(axes1,'YTickLabel',{num2str(floor(f(ticks(1)))) num2str(floor(f(ticks(2)))) num2str(floor(f(ticks(3)))) num2str(floor(f(ticks(4)))) num2str(floor(f(ticks(5))))});
set(axes1,'XTickLabel',{'' '' '' '' '' ''});
set(axes1, 'FontSize', 12);
% Create image
imagesc(t,f,cdata1,'Parent',axes1,'CDataMapping','scaled');
ylabel('Frequency (Hz)');
title(text);
% colormap jet;

% Create axes
axes2 = axes('Parent',figure1,...
    'Position',[0.127063142437592 0.0867003367003374 0.695256975036711 0.138047138047137]);

%box(axes2,'on');
p=plot(t,mean(cdata1,1),color); set(p, 'LineWidth', 2);
xlim(axes2,[t(1) t(end)]);
xlabel('Time (sec)'); set(axes2, 'FontSize', 12);
ylabel('Mean firing rate');

% Create axes
axes3 = axes('Parent',figure1,...
    'Position',[0.86568281938326 0.29040404040404 0.0814537444933923 0.684343434343435]);
%box(axes3,'on');

p=plot(mean(cdata1,2),1:length(f),color); set(p, 'LineWidth', 2);
ylim(axes3,[1 length(f)]);
set(axes3,'YTick',length(f)/4:length(f)/4:length(f));
ticks = floor(length(f)/4:length(f)/4:length(f));
set(axes3,'YTickLabel',{'' '' '' ''});
set(axes3, 'FontSize', 12);
xlabel('Mean firing rate');


end